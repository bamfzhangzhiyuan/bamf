<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" href="css/index.css" />
	</head>
	<body>
		<!--模拟屏幕区域-->
		<div id="wrap">
			<!--头部-->
			<header id="header">
				<!--上半部-->
				<div class="headerTop">
					<!--logo-->
					<h1 class="logo">
						<a href="javascript:;">
							<img src="img/logo.png"/>
						</a>
					</h1>
					<!--菜单按钮-->
					<a href="javascript:;" class="menuBtn menuBtnClose"></a>
					<!--按钮排-->
					<div class="btns">
						<a href="javascript:;">搜索</a>
						<a href="javascript:;">登录</a>
						<a href="javascript:;">注册</a>
					</div>
				</div>
				<!--下半部-->
				<form class="search">
					<input type="text" placeholder="请输入搜索内容。。。"/>
					<input type="submit" value="搜索"/>
				</form>
				<!--遮罩层-->
				<ul class="mask">
					<li>
						<a href="javascript:;">首页</a>
					</li>
					<li>
						<a href="javascript:;">MV</a>
					</li>
					<li>
						<a href="javascript:;">悦单</a>
					</li>
					<li>
						<a href="javascript:;">V榜</a>
					</li>
					<li>
						<a href="javascript:;">音悦</a>
					</li>
					<li>
						<a href="javascript:;">商城</a>
					</li>
					<li>
						<a href="javascript:;">节目</a>
					</li>
					<li>
						<a href="javascript:;">饭团</a>
					</li>
					<li>
						<a href="javascript:;">资讯</a>
					</li>
					<li>
						<a href="javascript:;">我的家</a>
					</li>
					<li>
						<a href="javascript:;">APP下载</a>
					</li>
					<li>
						<a href="javascript:;">热门应用</a>
					</li>
				</ul>
			</header>			
			
			<div id="conWrap">
			<!--内容-->
				<section id="content">
				<!--导航-->
				<nav class="navWrap">
					<ul class="navList">
						<li class="active">
							<a href="javascript:;">首页</a>
						</li>
						<li>
							<a href="javascript:;">MV</a>
						</li>
						<li>
							<a href="javascript:;">悦单</a>
						</li>
						<li>
							<a href="javascript:;">V榜</a>
						</li>
						<li>
							<a href="javascript:;">音悦</a>
						</li>
						<li>
							<a href="javascript:;">商城</a>
						</li>
						<li>
							<a href="javascript:;">节目</a>
						</li>
						<li>
							<a href="javascript:;">饭团</a>
						</li>
						<li>
							<a href="javascript:;">资讯</a>
						</li>
						<li>
							<a href="javascript:;">我的家</a>
						</li>
						<li>
							<a href="javascript:;">APP下载</a>
						</li>
						<li>
							<a href="javascript:;">热门应用</a>
						</li>
					</ul>
				</nav>
				<!--无缝-->
				<section class="banWrap">
					<ul class="banList">
						<li>
							<a href="javascript:;">
								<img src="img/1.jpg"/>
							</a>
						</li>
						<li>
							<a href="javascript:;">
								<img src="img/2.jpg"/>
							</a>
						</li>
						<li>
							<a href="javascript:;">
								<img src="img/3.jpg"/>
							</a>
						</li>
						<li>
							<a href="javascript:;">
								<img src="img/4.jpg"/>
							</a>
						</li>
						<li>
							<a href="javascript:;">
								<img src="img/5.jpg"/>
							</a>
						</li>
					</ul>
					<!--小圆点-->
					<div class="banIcons">
						<span class="active"></span>
						<span></span>
						<span></span>
						<span></span>
						<span></span>
					</div>
				</section>
				
				<!--tab选项卡-->
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				
				<div class="tab">
					<!--tab头部-->
					<header class="tabHeader">
						<h2>MV首播</h2>
						<a href="javascript:;">更多&gt;</a>
					</header>
					<!--tab导航-->
					<nav class="tabNav">
						<a href="javascript:;">全部</a>
						<a href="javascript:;">内地</a>
						<a href="javascript:;">港台</a>
						<a href="javascript:;">欧美</a>
						<a href="javascript:;">韩国</a>
						<a href="javascript:;">日本</a>
						<span class="smallGreen"></span>
					</nav>
					
					<div class="tabWrap">
						<!--loading-->
						<ul class="tabLoading"></ul>
						<!--图片列表-->
						<ul class="tabList">
							<li>
								<a href="javascript:;">
									<img src="img/a.jpg" alt="" />
									<span>君に贈る花がない君に贈る花がない君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/b.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/c.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/d.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/e.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
							<li>
								<a href="javascript:;">
									<img src="img/f.jpg" alt="" />
									<span>君に贈る花がない</span>
								</a>
								<div class="ice">
									<div class="iceLeft">
										<span class="icePic"></span>
										<span>3355</span>
									</div>
									<div class="iceRight">
										<span class="icePic"></span>
										<span>669</span>
									</div>
								</div>										
							</li>
						</ul>
						<!--loading-->
						<ul class="tabLoading"></ul>
					</div>
				</div>
				
				
				
			</section>
			</div>	
		</div>
		<!--滚动条-->
		<div id="scrollBar"></div>
	</body>
	<script type="text/javascript" src="js/changeClass.js"></script>
	<script type="text/javascript" src="js/transform.js"></script>
	<script src="js/drag.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		//取消浏览器默认行为
		document.addEventListener('touchstart',function(event){
//			console.log('document1  点击所有元素document1都给我们输出了')
			event.preventDefault();
		});
		
		//点透处理
		(function(){
			var aNodes = document.querySelectorAll('a');
			for (var i=0;i<aNodes.length;i++) {
				aNodes[i].addEventListener('touchstart',function(){
					window.location = this.href;
				});
			};
		})();
				
		//rem适配
		(function(){
			var width = document.documentElement.clientWidth;
			var styleNode = document.createElement('style');
			styleNode.innerHTML = 'html{font-size: '+ width/16 +'px !important;}';
			document.head.appendChild(styleNode);
		})();
		
		window.onload = function(){
			menuBtnBind();
			changeFocus();
			navBind();
			changeColor();
			banner();
			tab();
			contentDrag();
		};
		
		//竖向滑屏
		function contentDrag(){
			var conWrap = document.getElementById('conWrap');
			var content = document.getElementById('content')
			var scrollBar = document.getElementById('scrollBar')
			
			//滚动条的高度
			var scale = document.documentElement.clientHeight/content.offsetHeight;
			scrollBar.style.height = scale*document.documentElement.clientHeight + 'px';
		
			var callback = {
				//touchstart
				start : function(){
					//滚动条显示
					scrollBar.style.opacity = '1';
				},
				//touchmove + 加速
				move : function(){
					//滚动条显示
					scrollBar.style.opacity = '1';
					//滚动条移动
					//滚动条的偏移量 = 内容偏移量 * scale
					var dis = transformCss(content,'translateY')*scale;
					transformCss(scrollBar,'translateY',-dis)
				},
				//元素停下来的状态
				end:function(){
					//滚动条隐藏
					scrollBar.style.opacity = '0';
				}
			}
			drag(conWrap,callback);
		};
		
		//tab
		function tab(){
			var tabWrap = document.querySelectorAll('#wrap #content .tab .tabWrap');
			var tabNav = document.querySelectorAll('#wrap #content .tab .tabNav');
			var target = tabNav[0].offsetWidth;
			
			for (var i=0;i<tabWrap.length;i++) {
				move(tabWrap[i],tabNav[i]);
			};
			
			function move(tabWrap,tabNav){
				transformCss(tabWrap,'translateZ',0.01)
				//中间区域显示
				transformCss(tabWrap,'translateX',-target);
				
				//元素初始位置
				var eleX = 0;
				//手指初始位置
				var startX  =0 ;
				
				//防抖动
				var startY = 0;
				var isFirst = true;
				var isX = true;
				
				//loading 
				var isLoad = false;
				var tabLoading = tabWrap.querySelectorAll('.tabLoading');
				
				//小绿
				var aNodes = tabNav.querySelectorAll('a')
				var smallGreen = tabNav.querySelector('.smallGreen');
				transformCss(smallGreen,'translateZ',0.01)
				var nowA = 0;
				
				//手指按下
				tabWrap.addEventListener('touchstart',function(event){
					var touch = event.changedTouches[0];
					
					if(isLoad){
						return;
					}
					
					//清除过渡
					tabWrap.style.transition = 'none';
					
					//元素初始位置
					eleX = transformCss(tabWrap,'translateX');
					//手指初始位置
					startX = touch.clientX;
					startY = touch.clientY;
					
					//重置
					isFirst = true;
					isX = true;
				});				
				//手指移动
				tabWrap.addEventListener('touchmove',function(event){
					var touch = event.changedTouches[0];
					
					if(isLoad){
						return;
					}
					
					if(!isX){
						return
					};
					
					//手指结束位置
					var endX = touch.clientX;
					var endY = touch.clientY;
					//手指距离差
					var disX = endX - startX;
					var disY = endY - startY;
					
					//防抖动
					if(isFirst){
						isFirst = false;
						if(Math.abs(disY) > Math.abs(disX)){
							//水平禁止掉
							isX = false;
							return;
						};
					}								
					//确定元素最终位置
					transformCss(tabWrap,'translateX',disX+eleX);
					
					
					//手指划过一半
					if(Math.abs(disX) > target/2){
						
						//loading 图 该出现 （标志）
						isLoad = true;  //页面中其他逻辑需要禁止掉
						var translateX = disX < 0 ? -2*target : 0;
						//过渡
						tabWrap.style.transition = '1s';
						transformCss(tabWrap,'translateX',translateX);
						
						//小绿
						if(disX < 0){
							nowA = nowA + 1;
						}else{
							nowA = nowA - 1;
						}
						if(nowA > aNodes.length-1){
							nowA = 0
						}else if(nowA < 0){
							nowA = aNodes.length-1
						}
						
						smallGreen.style.transition = '0.5s';
						transformCss(smallGreen,'translateX',aNodes[nowA].offsetLeft)
						
								
						//检测过渡结束
						tabWrap.addEventListener('transitionend',fun);
						tabWrap.addEventListener('webkitTransitionEnd',fun);
						function fun(){
							//loading 图 真正的显示动作 
							if(disX < 0){
								tabLoading[1].style.opacity = '1';
							}else{
								tabLoading[0].style.opacity = '1';
							};
							
							//模拟数据请求回来
							setTimeout(function(){
								//loading 图 隐藏
								for(var i=0;i<tabLoading.length;i++){
									tabLoading[i].style.opacity = '0'
								};
								isLoad = false;
								tabWrap.style.transition = 'none';
								transformCss(tabWrap,'translateX',-target)
							},1000);
						
							//解绑操作
							tabWrap.removeEventListener('transitionend',fun);
							tabWrap.removeEventListener('webkitTransitionEnd',fun)
						};
						
						
					};					
					
				});
				//手指离开
				tabWrap.addEventListener('touchend',function(event){
					
					if(isLoad){
						return;
					}
					
					var touch = event.changedTouches[0];
					var endX = touch.clientX;
					var disX = endX - startX;
					
					//手指没有划过一半， 页面回来  -363
					if( Math.abs(disX) < target/2){
						//过渡
						tabWrap.style.transition = '0.5s';
						transformCss(tabWrap,'translateX',-target);
					}
					
				});
				
			};
			
		};
		
		
		
		//无缝（轮播）		
		function banner(){
			//获取元素
			var wrap = document.querySelector('#wrap #content .banWrap');
			var list = document.querySelector('#wrap #content .banWrap .banList');
			transformCss(list,'translateZ',0.01)
			list.innerHTML += list.innerHTML;
			var liNodes = document.querySelectorAll('#wrap #content .banWrap .banList li');
			var spanNodes = document.querySelectorAll('#wrap #content .banWrap .banIcons span')
			
			
			//布局区域
			var styleNode = document.createElement('style');
			styleNode.innerHTML = '#wrap #content .banWrap{height: '+ liNodes[0].offsetHeight +'px;}'
			styleNode.innerHTML += '#wrap #content .banWrap .banList{width: '+ liNodes.length +'00%;}';
			styleNode.innerHTML += '#wrap #content .banWrap .banList li{width: '+ 100/liNodes.length +'%;}'
			document.head.appendChild(styleNode);
			
			
			//横向滑屏
			//定义元素初始位置
			var eleX = 0;
			//定义手指初始位置
			var startX = 0;
			
			
			//图片索引下标
			var now = 0;
			
			//定时器
			var timer = null;
				
			//防抖动
			var startY = 0;
			//是否是第一次touchmove (默认是)
			var isFirst = true;
			//非第一次touchmove的逻辑是否执行 (默认是水平方向的逻辑)
			var isX = true;
			
			wrap.addEventListener('touchstart',function(event){
				var touch = event.changedTouches[0];				
				//清除过渡
				list.style.transition = 'none';
				
				//清除定时器
				clearInterval(timer);
				
				//无缝
				if(now == 0){
					now = spanNodes.length;
				}else if(now == liNodes.length-1){
					now = spanNodes.length -1;
				};
				//真正的跳转动作  -- 写
				transformCss(list,'translateX',-now*document.documentElement.clientWidth)
				
				
				//元素初始位置 -- 读取
				eleX = transformCss(list,'translateX');	
				
				//手指初始位置
				startX = touch.clientX;
				startY = touch.clientY;
				
				//防抖动清除，重置
				isFirst = true;
				isX = true;
			});
			wrap.addEventListener('touchmove',function(event){
				var touch = event.changedTouches[0];
				
				//非第一次水平方向的逻辑不能执行
				// isX = false ,非第一次水平方向的逻辑 禁止掉
				if(!isX){
					return
				};				
				//手指结束位置
				var endX = touch.clientX;
				var endY = touch.clientY;
				//手指距离差
				var disX = endX - startX;
				var disY = endY - startY				
				//防抖动
				// isFirst = true，证明手指第一次上来，disY 》 disX，证明手指移动方向在垂直方向，水平方向逻辑不能执行
				if(isFirst){
					isFirst = false;
					if(Math.abs(disY) > Math.abs(disX)){
						//证明手指移动方向在垂直方向
						//水平方向逻辑不能执行  --- 水平方向逻辑 需要禁止掉						
						//非第一次水平方向的逻辑不能执行
						isX = false;
//						console.log('11111')
						return; //只禁止掉第一次touchmove水平方向的逻辑
//						console.log('222222')
					};
//					console.log('333333')
				};
//				console.log('444444')
								
				//确定元素最终位置  -- 写
				transformCss(list,'translateX',disX + eleX)
				
			});
			//元素跳转
			wrap.addEventListener('touchend',function(){
				
				//把刚刚touchmove产生的translateX读取出来  -- 读取
				var left = transformCss(list,'translateX')
			
				
				now = Math.round(-left/document.documentElement.clientWidth);
				
				//范围限定
				if(now < 0){
					now = 0
				}else if(now > liNodes.length-1){
					now = liNodes.length-1;
				};
				
				//过渡
				list.style.transition = '0.5s';
				//确定元素最终位置 -- 写
				//left = now * 屏幕宽度
				transformCss(list,'translateX',-now * document.documentElement.clientWidth)
				
				
				//小圆点
				//1.小圆点样式清除掉 ， class = '';
				for(var i=0;i<spanNodes.length;i++){
					spanNodes[i].className = '';
				}
				//2.切换倒谁，谁的 class = 'active'
				spanNodes[now%spanNodes.length].className = 'active';
				
				
				//开启定时器
//				auto();
			});
		
		
		
			//自动轮播
//			auto();
			function auto(){
				
				timer = setInterval(function(){
					
					//无缝
					if(now == 9){
						now = 4;
						//清除过渡
						list.style.transition = 'none';
						//真的跳转
						transformCss(list,'translateX',-now*document.documentElement.clientWidth)
					};
					
					setTimeout(function(){
						now++;
						//过渡
						list.style.transition = '0.5s';
						transformCss(list,'translateX',-now*document.documentElement.clientWidth);
						//小圆点
						//1.小圆点样式清除掉 ， class = '';
						for(var i=0;i<spanNodes.length;i++){
							spanNodes[i].className = '';
						}
						//2.切换倒谁，谁的 class = 'active'
						spanNodes[now%spanNodes.length].className = 'active';
						
					},20)
					
					
				},1000);
		
			}
			
			
		};
		
		
		//点击变色
		
		function changeColor(){
			var liNodes = document.querySelectorAll('#wrap #content .navWrap .navList li');
			
			
			for (var i=0;i<liNodes.length;i++) {
				//误触
				var isMove = false;
				//给每一个li绑定 touchmove
				liNodes[i].addEventListener('touchmove',function(){
					isMove = true;
				});
				//给每一个li绑定 touchend
				liNodes[i].addEventListener('touchend',function(){
					
					if(!isMove){
						//给每一个li添加 class = ''
						for (var j=0;j<liNodes.length;j++) {
							liNodes[j].className = '';
						};
						//点击谁， class = 'active'
						this.className = 'active';
					};
					
					//清除isMove的值，重置
					isMove = false;
				});
			};
		};
		
		//导航
		
		function navBind(){
			var navWrap = document.querySelector('#wrap #content .navWrap');
			var navList = document.querySelector('#wrap #content .navWrap .navList')
			transformCss(navList,'translateZ',0.01)
			
			//定义元素初始位置
			var eleX = 0;
			//定义手指初始位置
			var startX = 0;
			
			//加速
			var s1 = 0;
			var s2 = 0;
			var t1 = 0;
			var t2 = 0;
			//距离差 --- 路程
			var disS = 0;
			//时间差  (非零数字)
			var disT = 0.1;
			
			//手指按下
			navWrap.addEventListener('touchstart',function(event){
				var touch = event.changedTouches[0];
				
				//清除过渡
				navList.style.transition = 'none';
				
				//元素初始位置
				eleX = transformCss(navList,'translateX');
				//手指初始位置
				startX = touch.clientX;
				
				//加速时候初始位置与初始时间
				s1 = eleX;
				t1 = new Date().getTime();//毫秒
				//清除上一次速度 ， disS = 0
				disS = 0;
				
			});			
			//手指移动
			navWrap.addEventListener('touchmove',function(event){
				var touch = event.changedTouches[0];
				//手指结束位置
				var endX = touch.clientX;
				//手指距离差
				var disX = endX - startX;
				
				//范围限定  --- 橡皮筋拖
				var translateX = disX+eleX;
				if(translateX > 0){
					var scale = 0.6 - translateX/(document.documentElement.clientWidth*3);
					translateX = 0 + translateX * scale;					
				}else if(translateX < document.documentElement.clientWidth-navList.offsetWidth){
					var over = Math.abs(translateX) - Math.abs(document.documentElement.clientWidth-navList.offsetWidth)
					var scale = 0.6 - over/(document.documentElement.clientWidth*3);
					translateX = document.documentElement.clientWidth-navList.offsetWidth - over*scale;
				}
				
				//确定元素最终位置
				transformCss(navList,'translateX',translateX);
//				console.log('translateX='+translateX)
				
				//加速时候结束位置与结束时间
				s2 = translateX;
				t2 = new Date().getTime();				
				//距离差 --- 路程
				disS = s2 - s1;
				//时间差
				disT = t2 - t1;
				
			});
			//手指离开
			//加速效果 ， 回弹
			navWrap.addEventListener('touchend',function(){
				//速度 = 路程/时间
//				t2 = new Date().getTime();	
				var speed = disS/disT;				
//				console.log(speed)

				//目标位置 = touchmove产生距离 + 速度产生的距离
				var target = transformCss(navList,'translateX')+ speed*100;
//				console.log('translateX == '+transformCss(navList,'translateX'))
//				console.log(target)

				//回弹
				var bezier = '';
				if(target > 0){
					target = 0;
					bezier = 'cubic-bezier(.15,1.68,.82,1.51)'
				}else if(target < document.documentElement.clientWidth-navList.offsetWidth){
					target = document.documentElement.clientWidth-navList.offsetWidth
					bezier = 'cubic-bezier(.15,1.68,.82,1.51)'
				}
				
				//过渡   ---空格
				navList.style.transition = '1s '+bezier;
				//确定元素最终位置
				transformCss(navList,'translateX',target);
			});
			
		};
		
		//获取焦点与失去焦点
		
		function changeFocus(){
			var inputNode = document.querySelector('#wrap #header .search input[type="text"]')
			
			//inputNode 触摸  --- 获取焦点
			inputNode.addEventListener('touchstart',function(event){
//				console.log('focus')
				//获取焦点  focus()
				inputNode.focus();
				
				//取消冒泡
				event.stopPropagation();
			});
			//点击页面其他区域，--- 失去焦点
			document.addEventListener('touchstart',function(){
//				console.log('blur')
				//失去焦点  blur()
				inputNode.blur();
			});
		};
		
		//菜单按钮
		
		function menuBtnBind(){
			
			var menuBtn = document.querySelector('#wrap #header .headerTop .menuBtn')
			var mask = document.querySelector('#wrap #header .mask');
			var flag = true;
			
			menuBtn.addEventListener('touchstart',function(event){
				if(flag){
					//menuBtnClose 删除 ，menuBtnOpen 添加
					removeClass(menuBtn,'menuBtnClose');
					addClass(menuBtn,'menuBtnOpen');
					
					//mask 显示
					mask.style.display = 'block';
				}else{
					//menuBtnOpen 删除，menuBtnClose添加
					removeClass(menuBtn,'menuBtnOpen');
					addClass(menuBtn,'menuBtnClose');
					//mask消失
					mask.style.display = 'none';
				};
				
				//flag 更新
				flag = !flag;
				
				//取消冒泡
	//			console.log('menuBtn')
				event.stopPropagation();
				event.preventDefault();
			});
			//点击页面其他区域，如果遮罩层是显示的状态，需要关闭
			document.addEventListener('touchstart',function(){
	//			console.log('document2')
				//必须为flag = false，
				if(!flag){
					//menuBtnOpen 删除，menuBtnClose添加
					removeClass(menuBtn,'menuBtnOpen');
					addClass(menuBtn,'menuBtnClose');
					//mask消失
					mask.style.display = 'none';
					
					//更新flag
					flag = true;
				}			
			});
			//点击mask，mask不能消失
			mask.addEventListener('touchstart',function(event){
				//取消冒泡
				event.stopPropagation();
				event.preventDefault();
			});
			
		}
	
	</script>
</html>
